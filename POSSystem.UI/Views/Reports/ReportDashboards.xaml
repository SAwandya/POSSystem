<Window x:Class="POSSystem.UI.Views.Reports.ReportDashboards"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        
        xmlns:oxy="http://oxyplot.org/wpf"
        xmlns:local="clr-namespace:POSSystem.UI.Views.Reports" xmlns:oxy1="clr-namespace:OxyPlot.WindowsForms;assembly=OxyPlot.WindowsForms"
        mc:Ignorable="d"
        Title="Analytics and Reports Dashboard"
        Height="900"
        Width="1600"
        MinHeight="700"
        MinWidth="1200"
        WindowStartupLocation="CenterScreen"
        Background="#FF0F0F1A"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResizeWithGrip">

    <Window.Resources>
        <!-- Color Resources -->
        <SolidColorBrush x:Key="PrimaryPurple" Color="#FF8B5DFF"/>
        <SolidColorBrush x:Key="SecondaryBlue" Color="#FF3D8BFF"/>
        <SolidColorBrush x:Key="AccentCyan" Color="#FF00D4FF"/>
        <SolidColorBrush x:Key="AccentPink" Color="#FFFF5CAA"/>
        <SolidColorBrush x:Key="SuccessGreen" Color="#FF00E096"/>
        <SolidColorBrush x:Key="WarningYellow" Color="#FFFFD166"/>
        <SolidColorBrush x:Key="ErrorRed" Color="#FFFF5E7C"/>

        <!-- Dark Theme -->
        <SolidColorBrush x:Key="DarkBackground" Color="#FF0F0F1A"/>
        <SolidColorBrush x:Key="DarkCard" Color="#FF1A1A2E"/>
        <SolidColorBrush x:Key="DarkSurface" Color="#FF252540"/>
        <SolidColorBrush x:Key="DarkBorder" Color="#FF3A3A5E"/>

        <!-- Light Text -->
        <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#FFB0B0D0"/>
        <SolidColorBrush x:Key="TextTertiary" Color="#FF8888AA"/>

        <!-- Light Backgrounds with Alpha -->
        <SolidColorBrush x:Key="PurpleLight20" Color="#208B5DFF"/>
        <SolidColorBrush x:Key="BlueLight20" Color="#203D8BFF"/>
        <SolidColorBrush x:Key="GreenLight20" Color="#2000E096"/>
        <SolidColorBrush x:Key="YellowLight20" Color="#20FFD166"/>
        <SolidColorBrush x:Key="CyanLight20" Color="#2000D4FF"/>
        <SolidColorBrush x:Key="PinkLight20" Color="#20FF5CAA"/>
        <SolidColorBrush x:Key="WhiteLight10" Color="#10FFFFFF"/>
        <SolidColorBrush x:Key="WhiteLight20" Color="#20FFFFFF"/>

        <!-- Gradients -->
        <LinearGradientBrush x:Key="PrimaryGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF8B5DFF" Offset="0"/>
            <GradientStop Color="#FF3D8BFF" Offset="1"/>
        </LinearGradientBrush>

        <!-- Report Card Styles -->
        <Style x:Key="ReportCard" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource DarkCard}"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="20"/>
        </Style>

        <Style x:Key="KPICard" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource DarkSurface}"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="20,15"/>
        </Style>

        <Style x:Key="MetricValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="0,5,0,0"/>
        </Style>

        <Style x:Key="MetricLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="Margin" Value="0,0,0,2"/>
        </Style>

        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <Style x:Key="FilterButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="35"/>
            <Setter Property="Padding" Value="15,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource DarkSurface}"/>
                                <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource PrimaryPurple}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Time Period Selector Style -->
        <Style x:Key="TimePeriodButton" TargetType="RadioButton">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="35"/>
            <Setter Property="Padding" Value="10,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Margin="10,0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource DarkSurface}"/>
                                <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource PrimaryPurple}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource PrimaryPurple}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Chart Colors for OxyPlot -->
        <Color x:Key="ChartPurple">#FF8B5DFF</Color>
        <Color x:Key="ChartBlue">#FF3D8BFF</Color>
        <Color x:Key="ChartGreen">#FF00E096</Color>
        <Color x:Key="ChartYellow">#FFFFD166</Color>
        <Color x:Key="ChartPink">#FFFF5CAA</Color>
        <Color x:Key="ChartCyan">#FF00D4FF</Color>
    </Window.Resources>

    <Grid>
        <!-- Background Effects -->
        <Grid Height="800" VerticalAlignment="Top">
            <Ellipse Width="600" Height="600" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="-300,-300,0,0">
                <Ellipse.Fill>
                    <RadialGradientBrush>
                        <GradientStop Color="#408B5DFF" Offset="0"/>
                        <GradientStop Color="#00000000" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.Fill>
            </Ellipse>
            <Ellipse Width="400" Height="400" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,-200,-200">
                <Ellipse.Fill>
                    <RadialGradientBrush>
                        <GradientStop Color="#403D8BFF" Offset="0"/>
                        <GradientStop Color="#00000000" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.Fill>
            </Ellipse>
        </Grid>

        <!-- Main Layout -->
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="80"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" 
                    Background="{StaticResource DarkCard}" 
                    CornerRadius="16"
                    Padding="20" Height="94" VerticalAlignment="Top" Grid.RowSpan="2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Logo & Title -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <Border Width="50" Height="50" CornerRadius="12" 
                                Background="{StaticResource PrimaryGradient}" 
                                Margin="0,0,15,0">
                            <TextBlock Text="📊" FontSize="28" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="ANALYTICS and REPORTS" 
                                     FontSize="22" 
                                     FontWeight="Bold" 
                                     Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="Business intelligence and performance metrics" 
                                     FontSize="12" 
                                     Foreground="{StaticResource TextSecondary}"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Time Period Selector -->
                    <StackPanel Grid.Column="1" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Center" 
                                VerticalAlignment="Center">
                        <RadioButton x:Name="rbToday" Content="Today" GroupName="TimePeriod" Style="{StaticResource TimePeriodButton}" Margin="0,0,5,0" IsChecked="True"/>
                        <RadioButton x:Name="rbWeek" Content="This Week" GroupName="TimePeriod" Style="{StaticResource TimePeriodButton}" Margin="5,0"/>
                        <RadioButton x:Name="rbMonth" Content="This Month" GroupName="TimePeriod" Style="{StaticResource TimePeriodButton}" Margin="5,0"/>
                        <RadioButton x:Name="rbQuarter" Content="Quarter" GroupName="TimePeriod" Style="{StaticResource TimePeriodButton}" Margin="5,0"/>
                        <RadioButton x:Name="rbYear" Content="Year" GroupName="TimePeriod" Style="{StaticResource TimePeriodButton}" Margin="5,0"/>
                        <RadioButton x:Name="rbCustom" Content="Custom" GroupName="TimePeriod" Style="{StaticResource TimePeriodButton}" Margin="5,0"/>
                    </StackPanel>

                    <!-- Actions -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <Button x:Name="btnExport" 
                                Style="{StaticResource FilterButtonStyle}" 
                                Margin="0,0,10,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📤" Margin="0,0,8,0"/>
                                <TextBlock Text="Export"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnPrint" 
                                Style="{StaticResource FilterButtonStyle}" 
                                Margin="0,0,10,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🖨️" Margin="0,0,8,0"/>
                                <TextBlock Text="Print"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnRefresh" 
                                Style="{StaticResource FilterButtonStyle}"
                                Background="{StaticResource PrimaryPurple}"
                                Foreground="White">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🔄" Margin="0,0,8,0"/>
                                <TextBlock Text="Refresh"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Main Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <Grid Margin="0,0,0,20">
                    <!-- Key Metrics Row -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Key Performance Indicators -->
                        <Grid Grid.Row="0" Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Total Revenue -->
                            <Border Grid.Column="0" Style="{StaticResource KPICard}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                        <Border Width="36" Height="36" CornerRadius="8" Background="{StaticResource GreenLight20}">
                                            <TextBlock Text="💰" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Revenue" Style="{StaticResource MetricLabelStyle}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="txtTotalRevenue" Text="$24,580.50" Style="{StaticResource MetricValueStyle}"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <TextBlock Text="▲ 12.5%" FontSize="11" Foreground="{StaticResource SuccessGreen}" FontWeight="SemiBold"/>
                                        <TextBlock Text=" vs last month" FontSize="11" Foreground="{StaticResource TextTertiary}" Margin="5,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Total Orders -->
                            <Border Grid.Column="1" Style="{StaticResource KPICard}" Height="135" Margin="5,0,5,5" VerticalAlignment="Bottom">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                        <Border Width="36" Height="36" CornerRadius="8" Background="{StaticResource PurpleLight20}">
                                            <TextBlock Text="📦" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Orders" Style="{StaticResource MetricLabelStyle}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="txtTotalOrders" Text="1,248" Style="{StaticResource MetricValueStyle}"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <TextBlock Text="▲ 8.2%" FontSize="11" Foreground="{StaticResource SuccessGreen}" FontWeight="SemiBold"/>
                                        <TextBlock Text=" vs last month" FontSize="11" Foreground="{StaticResource TextTertiary}" Margin="5,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Average Order Value -->
                            <Border Grid.Column="2" Style="{StaticResource KPICard}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                        <Border Width="36" Height="36" CornerRadius="8" Background="{StaticResource BlueLight20}">
                                            <TextBlock Text="📊" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Avg Order" Style="{StaticResource MetricLabelStyle}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="txtAvgOrderValue" Text="$196.80" Style="{StaticResource MetricValueStyle}"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <TextBlock Text="▲ 4.1%" FontSize="11" Foreground="{StaticResource SuccessGreen}" FontWeight="SemiBold"/>
                                        <TextBlock Text=" vs last month" FontSize="11" Foreground="{StaticResource TextTertiary}" Margin="5,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Profit Margin -->
                            <Border Grid.Column="3" Style="{StaticResource KPICard}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                        <Border Width="36" Height="36" CornerRadius="8" Background="{StaticResource YellowLight20}">
                                            <TextBlock Text="📈" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Profit Margin" Style="{StaticResource MetricLabelStyle}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="txtProfitMargin" Text="32.5%" Style="{StaticResource MetricValueStyle}"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <TextBlock Text="▲ 2.3%" FontSize="11" Foreground="{StaticResource SuccessGreen}" FontWeight="SemiBold"/>
                                        <TextBlock Text=" vs last month" FontSize="11" Foreground="{StaticResource TextTertiary}" Margin="5,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Top Selling Category -->
                            <Border Grid.Column="4" Style="{StaticResource KPICard}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                        <Border Width="36" Height="36" CornerRadius="8" Background="{StaticResource CyanLight20}">
                                            <TextBlock Text="🏆" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Top Category" Style="{StaticResource MetricLabelStyle}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="txtTopCategory" Text="Electronics" Style="{StaticResource MetricValueStyle}" FontSize="22"/>
                                    <TextBlock Text="42% of sales" FontSize="11" Foreground="{StaticResource TextTertiary}" Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>

                            <!-- Customer Satisfaction -->
                            <Border Grid.Column="5" Style="{StaticResource KPICard}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                        <Border Width="36" Height="36" CornerRadius="8" Background="{StaticResource PinkLight20}">
                                            <TextBlock Text="⭐" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Satisfaction" Style="{StaticResource MetricLabelStyle}" Margin="10,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <TextBlock x:Name="txtCustomerSatisfaction" Text="4.8/5.0" Style="{StaticResource MetricValueStyle}"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <TextBlock Text="94%" FontSize="11" Foreground="{StaticResource SuccessGreen}" FontWeight="SemiBold"/>
                                        <TextBlock Text=" positive" FontSize="11" Foreground="{StaticResource TextTertiary}" Margin="5,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </Grid>

                        <!-- Charts Row -->
                        <Grid Grid.Row="1" Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Sales Trend Chart -->
                            <Border Grid.Column="0" Style="{StaticResource ReportCard}" Margin="8,178,8,-178">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
                                        <TextBlock Text="Sales Trend" Style="{StaticResource SectionHeaderStyle}"/>
                                        <ComboBox x:Name="cmbChartPeriod" 
                                                  Margin="20,0,0,0" Width="120" Height="30" 
                                                  Background="{StaticResource DarkSurface}"
                                                  Foreground="{StaticResource TextPrimary}"
                                                  BorderBrush="{StaticResource DarkBorder}"
                                                  SelectionChanged="ChartPeriod_SelectionChanged">
                                            <ComboBoxItem Content="Daily" IsSelected="True"/>
                                            <ComboBoxItem Content="Weekly"/>
                                            <ComboBoxItem Content="Monthly"/>
                                        </ComboBox>
                                    </StackPanel>

                                    <!-- OxyPlot Sales Chart -->
                                    <oxy:PlotView Grid.Row="1" 
                                                  x:Name="SalesChart" 
                                                  Background="Transparent"
                                                  Margin="0,10,0,0"/>
                                </Grid>
                            </Border>

                            <!-- Revenue by Category -->
                            <Border Grid.Column="1" Style="{StaticResource ReportCard}" Margin="30,178,-15,-178">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Revenue by Category" Style="{StaticResource SectionHeaderStyle}"/>

                                    <!-- OxyPlot Pie Chart -->
                                    <oxy:PlotView Grid.Row="1" 
                                                  x:Name="CategoryChart" 
                                                  Background="Transparent"
                                                  Margin="0,10,0,0"/>
                                </Grid>
                            </Border>
                        </Grid>

                        <!-- Third Row: Detailed Reports -->
                        <Grid Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Top Products Table -->
                            <Border Grid.Column="0" Style="{StaticResource ReportCard}" Margin="5,0,10,-182" Height="121" VerticalAlignment="Bottom">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                                        <TextBlock Text="Top Selling Products" Style="{StaticResource SectionHeaderStyle}"/>
                                        <Button x:Name="btnViewAllProducts" 
                                                Style="{StaticResource FilterButtonStyle}" 
                                                Margin="20,0,0,0"
                                                Padding="10,5"
                                                Click="ViewAllProducts_Click">
                                            <TextBlock Text="View All →" FontSize="12"/>
                                        </Button>
                                    </StackPanel>

                                    <DataGrid x:Name="dgTopProducts"
                                              Grid.Row="1" 
                                              AutoGenerateColumns="False"
                                              HeadersVisibility="Column"
                                              Background="Transparent"
                                              BorderThickness="0"
                                              RowBackground="Transparent"
                                              AlternatingRowBackground="{StaticResource WhiteLight10}"
                                              Foreground="{StaticResource TextPrimary}"
                                              FontSize="13"
                                              CanUserAddRows="False"
                                              IsReadOnly="True" Margin="0,0,0,-28">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Header="#" Width="40" Binding="{Binding Rank}"/>
                                            <DataGridTextColumn Header="Product" Width="200" Binding="{Binding Name}"/>
                                            <DataGridTextColumn Header="Category" Width="120" Binding="{Binding Category}"/>
                                            <DataGridTextColumn Header="Sales" Width="100" Binding="{Binding Sales, StringFormat=C}"/>
                                            <DataGridTextColumn Header="Units" Width="80" Binding="{Binding Units}"/>
                                            <DataGridTextColumn Header="Growth" Width="100">
                                                <DataGridTextColumn.ElementStyle>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground" Value="{Binding GrowthColor}"/>
                                                        <Setter Property="HorizontalAlignment" Value="Right"/>
                                                    </Style>
                                                </DataGridTextColumn.ElementStyle>
                                                <DataGridTextColumn.Binding>
                                                    <Binding Path="Growth" StringFormat="{}{0}%"/>
                                                </DataGridTextColumn.Binding>
                                            </DataGridTextColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Border>

                            <!-- Recent Transactions -->
                            <Border Grid.Column="1" Style="{StaticResource ReportCard}" Margin="10,192,5,-182">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                                        <TextBlock Text="Recent Transactions" Style="{StaticResource SectionHeaderStyle}"/>
                                        <Button x:Name="btnViewAllTransactions" 
                                                Style="{StaticResource FilterButtonStyle}" 
                                                Margin="20,0,0,0"
                                                Padding="10,5"
                                                Click="ViewAllTransactions_Click">
                                            <TextBlock Text="View All →" FontSize="12"/>
                                        </Button>
                                    </StackPanel>

                                    <DataGrid x:Name="dgRecentTransactions"
                                              Grid.Row="1" 
                                              AutoGenerateColumns="False"
                                              HeadersVisibility="Column"
                                              Background="Transparent"
                                              BorderThickness="0"
                                              RowBackground="Transparent"
                                              AlternatingRowBackground="{StaticResource WhiteLight10}"
                                              Foreground="{StaticResource TextPrimary}"
                                              FontSize="13"
                                              CanUserAddRows="False"
                                              IsReadOnly="True">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Header="Time" Width="100" Binding="{Binding Time, StringFormat=HH:mm}"/>
                                            <DataGridTextColumn Header="Invoice" Width="120" Binding="{Binding InvoiceNumber}"/>
                                            <DataGridTextColumn Header="Customer" Width="150" Binding="{Binding Customer}"/>
                                            <DataGridTextColumn Header="Items" Width="80" Binding="{Binding Items}"/>
                                            <DataGridTextColumn Header="Amount" Width="100" Binding="{Binding Amount, StringFormat=C}"/>
                                            <DataGridTemplateColumn Header="Status" Width="100">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Border CornerRadius="12" Padding="6,2" HorizontalAlignment="Left"
                                                                Background="{Binding StatusBackground}">
                                                            <TextBlock Text="{Binding Status}" 
                                                                       FontSize="11" 
                                                                       FontWeight="SemiBold"
                                                                       Foreground="{Binding StatusColor}"/>
                                                        </Border>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Border>
                        </Grid>
                    </Grid>

                    <!-- Fourth Row: Additional Reports -->
                    <Grid Margin="0,10,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Quick Report Cards -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="20,89,20,0" Height="58" VerticalAlignment="Top">
                            <!-- Stock Report Card -->

                            <!-- Customer Report Card -->

                            <!-- Financial Report Card -->

                            <!-- Performance Report Card -->
                            <!-- Financial Report Card -->
                            <Border Style="{StaticResource KPICard}" Width="240">
                                <StackPanel>
                                    <TextBlock Text="Profit and loss, cash flow" 
                                             FontSize="11" 
                                             Foreground="{StaticResource TextSecondary}"
                                             Margin="0,0,0,15"/>
                                    <Button x:Name="btnViewFinancialReport" 
                                            Style="{StaticResource FilterButtonStyle}"
                                            Padding="15,8"
                                            Click="ViewFinancialReport_Click">
                                        <TextBlock Text="View Report →" FontSize="12"/>
                                    </Button>
                                    <StackPanel Orientation="Horizontal">
                                        <Border Width="40" Height="40" CornerRadius="8" Background="{StaticResource YellowLight20}">
                                            <TextBlock Text="💰" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Text="Financial Summary" 
                                                 FontSize="14" 
                                                 FontWeight="SemiBold"
                                                 Foreground="{StaticResource TextPrimary}"
                                                 Margin="12,0,0,0"
                                                 VerticalAlignment="Center"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Performance Report Card -->
                        </StackPanel>
                    </Grid>
                </Grid>
            </ScrollViewer>

            <!-- Footer -->
            <Border Grid.Row="2" 
                    Background="{StaticResource DarkCard}" 
                    CornerRadius="12" 
                    Margin="0,20,0,0"
                    Height="55">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Report Info -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="15,0">
                        <TextBlock Text="Last Updated: " 
                                 FontSize="11" 
                                 Foreground="{StaticResource TextSecondary}"/>
                        <TextBlock x:Name="txtLastUpdated" 
                                 Text="Today, 10:30 AM" 
                                 FontSize="11" 
                                 FontWeight="Medium"
                                 Foreground="{StaticResource TextPrimary}"
                                 Margin="5,0,0,0"/>

                        <TextBlock Text="•" 
                                 FontSize="11" 
                                 Foreground="{StaticResource TextTertiary}"
                                 Margin="15,0"/>

                        <TextBlock Text="Data Range: " 
                                 FontSize="11" 
                                 Foreground="{StaticResource TextSecondary}"/>
                        <TextBlock x:Name="txtDataRange" 
                                 Text="Jan 1 - Dec 31, 2024" 
                                 FontSize="11" 
                                 FontWeight="Medium"
                                 Foreground="{StaticResource TextPrimary}"
                                 Margin="5,0,0,0"/>

                        <TextBlock Text="•" 
                                 FontSize="11" 
                                 Foreground="{StaticResource TextTertiary}"
                                 Margin="15,0"/>

                        <TextBlock Text="Generated By: " 
                                 FontSize="11" 
                                 Foreground="{StaticResource TextSecondary}"/>
                        <TextBlock Text="POS System v2.0" 
                                 FontSize="11" 
                                 FontWeight="Medium"
                                 Foreground="{StaticResource TextPrimary}"
                                 Margin="5,0,0,0"/>
                    </StackPanel>

                    <!-- Footer Actions -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,15,0">
                        <Button x:Name="btnHelp" 
                              Style="{StaticResource FilterButtonStyle}" 
                              Padding="10,6"
                              MinWidth="70"
                              Margin="0,0,8,0"
                              Click="HelpButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="❓" FontSize="13" Margin="0,0,6,0"/>
                                <TextBlock Text="Help" FontSize="11"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="btnSchedule" 
                              Style="{StaticResource FilterButtonStyle}" 
                              Padding="10,6"
                              MinWidth="100"
                              Margin="0,0,8,0"
                              Click="ScheduleButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="⏰" FontSize="13" Margin="0,0,6,0"/>
                                <TextBlock Text="Schedule" FontSize="11"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>